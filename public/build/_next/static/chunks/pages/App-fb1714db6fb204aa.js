(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{3378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(7876),l=n(9794),s=n(1494),r=n(9017),i=n(4538),c=n(4933),o=n(7455),d=n(2639),u=n(5692),h=n(4419);let x=e=>{let{events:t=[],label:n=""}=e,x={loading:d.A,finished:u.A,failed:h.A},f=e=>e?(0,a.jsxs)(l.A,{variant:"caption",children:[(0,a.jsx)("br",{}),"Latency: ",e," ms"]}):null;return(0,a.jsx)(i.A,{variant:"outlined",sx:{display:"flex",flexGrow:1,maxHeight:"100%",overflow:"auto"},children:(0,a.jsxs)(c.A,{children:[(0,a.jsx)(l.A,{gutterBottom:!0,children:n}),(0,a.jsx)(o.A,{}),(e=>0===e.length?(0,a.jsx)(l.A,{children:"No Events in progress."}):e.map(e=>{let{status:t,label:n,color:l,latency:i}=e,c=x[t];return(0,a.jsxs)(s.A,{children:[(0,a.jsx)(r.A,{label:n,icon:(0,a.jsx)(c,{}),color:l}),f(i)]})}))(t)]})})}},5124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(7876),l=n(2340),s=n(9794);let r=e=>{let{data:t=[],display:n=!1}=e;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(l.b,{series:t,width:500,height:300}):(0,a.jsx)(s.A,{variant:"h4",children:"Waiting for data."})})}},5340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var a=n(7876);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary";return{status:"loading",label:e,color:t}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{status:"finished",label:e,color:t}}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return{status:"failed",label:e,color:t}}var i=n(4232),c=n(1494),o=n(2038),d=n(2232),u=n(7259),h=n(1755),x=n(3378),f=n(5124);let g=(e=>{let t=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};null!=n&&(a.body=JSON.stringify(n));try{let t=await fetch(e,a);if(!t.ok)throw Error("Response status: ".concat(t.status));return await t.json()}catch(e){console.log(e),console.log(e)}};return{pingRest:async n=>t("".concat(e,"/ping/rest?count=").concat(n)),pingGrpc:async n=>t("".concat(e,"/ping/grpc?count=").concat(n))}})("http://127.0.0.1:8080"),j=function(){let[e,t]=(0,i.useState)(!1),[n,j]=(0,i.useState)(!1),[p,v]=(0,i.useState)(10),[y,A]=(0,i.useState)(10),[w,b]=(0,i.useState)({}),[m,E]=(0,i.useState)({}),S=async e=>{w[e]=l("Pinging server..."),b({...w});let t=Date.now();try{await g.pingRest(y);let n=Date.now()-t,a=s("Done!");a.latency=n,w[e]=a,b({...w})}catch(a){console.log("There was an error: ".concat(a));let n=r("Error!");n.latency=Date.now()-t,w[e]=n,b({...w})}},_=async e=>{m[e]=l("Pinging server..."),E({...m});let t=Date.now();try{await g.pingGrpc(y);let n=Date.now()-t,a=s("Done!");a.latency=n,m[e]=a,E({...m})}catch(a){console.log("There was an error: ".concat(a));let n=r("Error!");n.latency=Date.now()-t,m[e]=n,E({...m})}},R=async e=>{for(let t=0;t<e;t++)await S(t)},D=async e=>{for(let t=0;t<e;t++)await _(t)};(0,i.useEffect)(()=>{n&&(t(!1),Promise.all([R(p),D(p)]).then(()=>{j(!1),t(!0)}))},[n]);let C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(let[n,a]of Object.entries(e))t.push(a.latency);return t},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n=[];for(let[a,l]of Object.entries(e))t+=l.latency,n.push(t);return n},k={flexGrow:1,display:"flex"};return(0,a.jsxs)(c.A,{sx:{height:"calc(100vh - 152px)",display:"flex",flexDirection:"column"},children:[(0,a.jsxs)(o.A,{container:!0,spacing:2,children:[(0,a.jsx)(o.A,{size:2,children:(0,a.jsx)(d.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(u.A,{variant:"standard",value:p,onChange:e=>v(e.target.value),label:"Client Requests"})})}),(0,a.jsx)(o.A,{size:2,children:(0,a.jsx)(d.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(u.A,{variant:"standard",value:y,onChange:e=>A(e.target.value),label:"Server Requests"})})}),(0,a.jsx)(o.A,{size:8,children:(0,a.jsx)(d.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(h.A,{variant:"contained",onClick:()=>{b({}),E({}),j(!0)},children:"Test Ping"})})})]}),(0,a.jsxs)(o.A,{container:!0,spacing:2,sx:{height:"46vh",overflow:"auto",flexGrow:1},children:[(0,a.jsx)(o.A,{size:2,sx:{...k,maxHeight:"100%"},children:(0,a.jsx)(x.default,{label:"REST Status",events:Object.keys(w).map(e=>w[e])})}),(0,a.jsx)(o.A,{size:2,sx:{...k,maxHeight:"100%"},children:(0,a.jsx)(x.default,{label:"GRPC Status",events:Object.keys(m).map(e=>m[e])})}),(0,a.jsxs)(o.A,{size:8,sx:{...k,flexDirection:"column"},children:[(0,a.jsx)(o.A,{size:12,sx:k,children:(0,a.jsx)(f.default,{data:[{data:C(w),label:"REST"},{data:C(m),label:"gRPC"}],display:e})}),(0,a.jsx)(o.A,{size:12,sx:k,children:(0,a.jsx)(f.default,{data:[{data:P(w),label:"REST"},{data:P(m),label:"gRPC"}],display:e})})]})]})]})}},9045:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/App",function(){return n(5340)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[991,340,596,302,636,593,792],()=>t(9045)),_N_E=e.O()}]);