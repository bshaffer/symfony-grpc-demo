(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5754)}])},3378:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(7876),o=r(9794),n=r(1494),s=r(9017),l=r(4538),i=r(4933),c=r(7455),p=r(2639),d=r(5692),u=r(4419);let x=e=>{let{events:t=[],label:r=""}=e,x={loading:p.A,finished:d.A,failed:u.A},g=e=>e?(0,a.jsxs)(o.A,{variant:"caption",children:[(0,a.jsx)("br",{}),"Latency: ",e," ms"]}):null;return(0,a.jsx)(l.A,{variant:"outlined",sx:{display:"flex",flexGrow:1,maxHeight:"100%",overflow:"auto"},children:(0,a.jsxs)(i.A,{children:[(0,a.jsx)(o.A,{gutterBottom:!0,children:r}),(0,a.jsx)(c.A,{}),(e=>0===e.length?(0,a.jsx)(o.A,{children:"No Events in progress."}):e.map(e=>{let{status:t,label:r,color:o,latency:l}=e,i=x[t];return(0,a.jsxs)(n.A,{children:[(0,a.jsx)(s.A,{label:r,icon:(0,a.jsx)(i,{}),color:o}),g(l)]})}))(t)]})})}},5124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(7876),o=r(2340),n=r(4538),s=r(4933),l=r(9794);function i(e){let{dataIndex:t,series:r}=e,o=r[0].data[t],i=r[1].data[t],c=100*o/i-100;return(0,a.jsx)(n.A,{sx:{minWidth:275},children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(l.A,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:"Latency"}),(0,a.jsxs)(l.A,{children:["Rest latency: ",o," ms"]}),(0,a.jsxs)(l.A,{children:["Grpc latency: ",i," ms"]}),(0,a.jsxs)(l.A,{children:["difference (%): ",c.toFixed(2)," %"]})]})})}let c=e=>{let{data:t=[],display:r=!1,sx:n={}}=e;return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(o.b,{series:t,width:1e3,height:300,sx:n,slots:{axisContent:i}}):(0,a.jsx)(l.A,{variant:"h4",children:"Waiting for data."})})}},5340:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(7876);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary";return{status:"loading",label:e,color:t}}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{status:"finished",label:e,color:t}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return{status:"failed",label:e,color:t}}var l=r(4232),i=r(1494),c=r(2038),p=r(2232),d=r(7259),u=r(1755),x=r(9794),g=r(3378),h=r(5124);let f=(e=>{let t=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};null!=r&&(a.body=JSON.stringify(r));try{let t=await fetch(e,a);if(!t.ok)throw Error("Response status: ".concat(t.status));return await t.json()}catch(e){console.log(e),console.log(e)}};return{pingRest:async r=>t("".concat(e,"/ping/rest?count=").concat(r)),pingGrpc:async r=>t("".concat(e,"/ping/grpc?count=").concat(r))}})("http://127.0.0.1:8080"),A=function(){let[e,t]=(0,l.useState)(!1),[r,A]=(0,l.useState)(!1),[v,y]=(0,l.useState)(10),[j,b]=(0,l.useState)(10),[m,k]=(0,l.useState)({}),[w,B]=(0,l.useState)({}),S=async e=>{m[e]=o("Pinging server..."),k({...m});let t=Date.now();try{await f.pingRest(j);let r=Date.now()-t,a=n("Done!");a.latency=r,m[e]=a,k({...m})}catch(a){console.log("There was an error: ".concat(a));let r=s("Error!");r.latency=Date.now()-t,m[e]=r,k({...m})}},R=async e=>{w[e]=o("Pinging server..."),B({...w});let t=Date.now();try{await f.pingGrpc(j);let r=Date.now()-t,a=n("Done!");a.latency=r,w[e]=a,B({...w})}catch(a){console.log("There was an error: ".concat(a));let r=s("Error!");r.latency=Date.now()-t,w[e]=r,B({...w})}},C=async e=>{for(let t=0;t<e;t++)await S(t)},z=async e=>{for(let t=0;t<e;t++)await R(t)};(0,l.useEffect)(()=>{r&&(t(!1),Promise.all([C(v),z(v)]).then(()=>{A(!1),t(!0)}))},[r]);let T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(let[r,a]of Object.entries(e))t.push(a.latency);return t},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,r=[];for(let[a,o]of Object.entries(e))t+=o.latency,r.push(t);return r},E={flexGrow:1,display:"flex"};return(0,a.jsxs)(i.A,{sx:{height:"calc(100vh - 152px)",display:"flex",flexDirection:"column"},children:[(0,a.jsxs)(c.A,{container:!0,spacing:2,children:[(0,a.jsx)(c.A,{size:2,children:(0,a.jsx)(p.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(d.A,{variant:"standard",value:v,onChange:e=>y(e.target.value),label:"Client Requests"})})}),(0,a.jsx)(c.A,{size:2,children:(0,a.jsx)(p.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(d.A,{variant:"standard",value:j,onChange:e=>b(e.target.value),label:"Server Requests"})})}),(0,a.jsx)(c.A,{size:8,children:(0,a.jsx)(p.A,{sx:{m:1,display:"flex"},children:(0,a.jsx)(u.A,{variant:"contained",onClick:()=>{k({}),B({}),A(!0)},children:"Test Ping"})})})]}),(0,a.jsxs)(c.A,{container:!0,spacing:2,sx:{height:"46vh",overflow:"auto",flexGrow:1},children:[(0,a.jsx)(c.A,{size:2,sx:{...E,maxHeight:"100%"},children:(0,a.jsx)(g.default,{label:"REST Status",events:Object.keys(m).map(e=>m[e])})}),(0,a.jsx)(c.A,{size:2,sx:{...E,maxHeight:"100%"},children:(0,a.jsx)(g.default,{label:"GRPC Status",events:Object.keys(w).map(e=>w[e])})}),(0,a.jsxs)(c.A,{size:8,sx:{...E,flexDirection:"column"},children:[(0,a.jsx)(c.A,{size:12,sx:E,children:(0,a.jsxs)(c.A,{size:12,children:[(0,a.jsx)(x.A,{variant:"h5",children:"Latency per request."}),(0,a.jsx)(h.default,{data:[{data:T(m),label:"REST"},{data:T(w),label:"gRPC"}],display:e})]})}),(0,a.jsx)(c.A,{size:12,sx:E,children:(0,a.jsxs)(c.A,{size:12,children:[(0,a.jsx)(x.A,{variant:"h5",children:"Aggregated latency."}),(0,a.jsx)(h.default,{data:[{data:D(m),label:"REST"},{data:D(w),label:"gRPC"}],display:e})]})})]})]})]})}},5754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(7876),o=r(6404),n=r(5340);function s(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.default,{}),(0,a.jsx)(n.default,{})]})}},6404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var a=r(7876),o=r(4232),n=r(4773),s=r(9241),l=r(4697),i=r(2987),c=r(4896),p=r(27),d=r(8457),u=r(1951),x=r(7951),g=r(5879);function h(e){return(0,g.Ay)("MuiAppBar",e)}(0,x.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);let f=e=>{let{color:t,position:r,classes:a}=e,o={root:["root","color".concat((0,p.A)(t)),"position".concat((0,p.A)(r))]};return(0,l.A)(o,h,a)},A=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,v=(0,n.Ay)(u.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["position".concat((0,p.A)(r.position))],t["color".concat((0,p.A)(r.color))]]}})((0,i.A)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter((0,d.A)(["contrastText"])).map(e=>{var r,a;let[o]=e;return{props:{color:o},style:{"--AppBar-background":(null!==(r=t.vars)&&void 0!==r?r:t).palette[o].main,"--AppBar-color":(null!==(a=t.vars)&&void 0!==a?a:t).palette[o].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?A(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?A(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}})),y=o.forwardRef(function(e,t){let r=(0,c.b)({props:e,name:"MuiAppBar"}),{className:o,color:n="primary",enableColorOnDark:l=!1,position:i="fixed",...p}=r,d={...r,color:n,position:i,enableColorOnDark:l},u=f(d);return(0,a.jsx)(v,{square:!0,component:"header",ownerState:d,elevation:4,className:(0,s.A)(u.root,o,"fixed"===i&&"mui-fixed"),ref:t,...p})});var j=r(1494);function b(e){return(0,g.Ay)("MuiToolbar",e)}(0,x.A)("MuiToolbar",["root","gutters","regular","dense"]);let m=e=>{let{classes:t,disableGutters:r,variant:a}=e;return(0,l.A)({root:["root",!r&&"gutters",a]},b,t)},k=(0,n.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,i.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}})),w=o.forwardRef(function(e,t){let r=(0,c.b)({props:e,name:"MuiToolbar"}),{className:o,component:n="div",disableGutters:l=!1,variant:i="regular",...p}=r,d={...r,component:n,disableGutters:l,variant:i},u=m(d);return(0,a.jsx)(k,{as:n,className:(0,s.A)(u.root,o),ref:t,ownerState:d,...p})});var B=r(9794);let S=(0,n.Ay)(w)(e=>{let{theme:t}=e;return{alignItems:"flex-start",paddingTop:t.spacing(1),paddingBottom:t.spacing(2),"@media all":{minHeight:128}}});function R(){return(0,a.jsx)(j.A,{sx:{flexGrow:1},children:(0,a.jsx)(y,{position:"static",children:(0,a.jsx)(S,{children:(0,a.jsx)(B.A,{variant:"h5",noWrap:!0,component:"div",sx:{flexGrow:1,alignSelf:"flex-end"},children:"DeepSeek Grpc vs Rest metrics"})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[144,347,467,302,636,593,792],()=>t(2936)),_N_E=e.O()}]);